let _0x1edd9a=_0x18e4;!function($,x){let e=_0x18e4,a=$();for(;;)try{let _=parseInt(e(468))/1+parseInt(e(406))/2*(parseInt(e(427))/3)+-parseInt(e(426))/4+-parseInt(e(450))/5*(parseInt(e(403))/6)+parseInt(e(449))/7+parseInt(e(421))/8*(-parseInt(e(462))/9)+parseInt(e(419))/10*(parseInt(e(429))/11);if(652119===_)break;a.push(a.shift())}catch(d){a.push(a.shift())}}(_0xc53a,652119);import{initializeApp as $}from"https://www.gstatic.com/firebasejs/11.1.0/firebase-app.js";import{getAuth as x,signInWithEmailAndPassword as e,onAuthStateChanged as a,signOut as _}from"https://www.gstatic.com/firebasejs/11.1.0/firebase-auth.js";import{getFirestore as d,collection as t,getDocs as i,addDoc as n,deleteDoc as c,doc as o}from"https://www.gstatic.com/firebasejs/11.1.0/firebase-firestore.js";let firebaseConfig={apiKey:_0x1edd9a(467),authDomain:_0x1edd9a(431),projectId:_0x1edd9a(412),storageBucket:_0x1edd9a(471),messagingSenderId:_0x1edd9a(416),appId:"1:450833523787:web:10d9579152e9ddc41c99ce"},app=$(firebaseConfig),auth=x(app),db=d(app),loginSection=document[_0x1edd9a(458)](_0x1edd9a(463)),adminSection=document[_0x1edd9a(458)]("admin-content"),errorMessage=document[_0x1edd9a(458)](_0x1edd9a(453)),logoutBtn=document[_0x1edd9a(458)](_0x1edd9a(457)),addDishForm=document[_0x1edd9a(458)](_0x1edd9a(430)),menuList=document[_0x1edd9a(458)]("menu-list"),dishPriceInput=document[_0x1edd9a(458)](_0x1edd9a(417));function _0xc53a(){let $=["dish-category","files","then","AIzaSyAComd7ODTKPQlQo5TqxESiY0qdZSyi_Eg","162465AnbbRa","data","file","tecno-37900.firebasestorage.app","34836oOdcdV","style","dish-description","2CLiYsn","error","POST","innerHTML","classList",'" alt="',"tecno-37900","none","Por favor, selecciona una imagen para el producto.","Producto agregado correctamente.","450833523787","dish-price","catch","110Jhwaiz","click","179384EPshSy","trim","Error al agregar el producto. Int\xe9ntalo nuevamente.","img","json","2194560klkcoH","2584659nojxNG","password","1426975jopVbR","add-dish-form","tecno-37900.firebaseapp.com","submit","block","dish-card","display","name","menu","deleteDish","</p>\n            <p><strong>Categor\xeda:</strong> ","preventDefault","forEach","Error al cerrar sesi\xf3n:","email","https://api.cloudinary.com/v1_1/dcmldbl5k/image/upload","category","value","</h5>\n            <p><strong>Precio:</strong> ","')\">Eliminar</button>\n        ","1760605RcjHJI","965jPjoIx","appendChild","my_images","error-message","</p>\n            <p><strong>Descripci\xf3n:</strong> ","addEventListener","dish-img-upload","logout-btn","getElementById","reset","add","description","153PVkksP","login-section"];return(_0xc53a=function(){return $})()}async function loadMenu(){let $=_0x1edd9a,x=await i(t(db,$(437)));menuList[$(409)]="",x[$(441)](x=>{let e=$,a=x[e(469)](),_=document.createElement("div");_[e(410)][e(460)](e(434)),_[e(409)]='\n            <img src="'+a[e(424)]+e(411)+a.name+'" width="100">\n            <h5>'+a[e(436)]+e(447)+a.price+e(439)+a[e(445)]+e(454)+a[e(461)]+"</p>\n            <button onclick=\"deleteDish('"+x.id+e(448),menuList[e(451)](_)})}function _0x18e4($,x){let e=_0xc53a();return(_0x18e4=function($,x){return e[$-=403]})($,x)}async function addDish($,x,e,a,_){await n(t(db,"menu"),{name:$,category:x,price:"$"+e,img:a,description:_}),loadMenu()}async function uploadToCloudinary($){let x=_0x1edd9a,e=x(444),a=new FormData;a.append(x(470),$),a.append("upload_preset",x(452));try{let _=await fetch(e,{method:x(408),body:a}),d=await _[x(425)]();return d.secure_url}catch(t){throw console.error("Error al subir la imagen:",t),t}}document[_0x1edd9a(458)]("login-form")[_0x1edd9a(455)](_0x1edd9a(432),$=>{let x=_0x1edd9a;$[x(440)]();let a=document[x(458)]("email")[x(446)],_=document.getElementById(x(428))[x(446)];e(auth,a,_)[x(466)]($=>{let e=x;loginSection.style[e(435)]=e(413),adminSection[e(404)][e(435)]="block",loadMenu()}).catch($=>{let e=x;errorMessage[e(404)][e(435)]=e(433)})}),a(auth,$=>{let x=_0x1edd9a;$?(loginSection[x(404)].display=x(413),adminSection.style[x(435)]=x(433),loadMenu()):(loginSection.style.display=x(433),adminSection.style[x(435)]=x(413))}),window[_0x1edd9a(438)]=async function($){await c(o(db,_0x1edd9a(437),$)),loadMenu()},addDishForm.addEventListener(_0x1edd9a(432),async $=>{let x=_0x1edd9a;$.preventDefault();let e=document[x(458)]("dish-name").value,a=document[x(458)](x(464))[x(446)],_=dishPriceInput[x(446)].replace("$","")[x(422)](),d=document[x(458)](x(456)),t=document[x(458)](x(405))[x(446)],i=d[x(465)][0];if(!i){alert(x(414));return}try{let n=await uploadToCloudinary(i);await addDish(e,a,_,n,t),addDishForm[x(459)](),alert(x(415))}catch(c){alert(x(423))}}),logoutBtn[_0x1edd9a(455)](_0x1edd9a(420),()=>{let $=_0x1edd9a;_(auth).then(()=>{let $=_0x18e4;document[$(458)]($(443)).value="",document.getElementById($(428))[$(446)]="",loginSection.style.display=$(433),adminSection[$(404)][$(435)]=$(413)})[$(418)](x=>{let e=$;console[e(407)](e(442),x)})});